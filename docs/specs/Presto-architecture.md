# Presto å®˜ç½‘ä¸æ‰©å±•ç”Ÿæ€æ¶æ„è®¾è®¡æ–‡æ¡£

æœ¬æ–‡æ¡£æ˜¯ Presto å®˜ç½‘æ”¹é€ å’Œæ‰©å±•ç”Ÿæ€å»ºè®¾çš„å®Œæ•´æ¶æ„è®¾è®¡ï¼Œä½œä¸ºå„ä»“åº“ AI åŠ©æ‰‹çš„å…±äº«ä¸Šä¸‹æ–‡ã€‚

æŠ€æœ¯è§„èŒƒè¯¦è§ `extension-spec.md`ã€‚

---

## ä¸€ã€é¡¹ç›®å…¨æ™¯

### æ¶‰åŠçš„ä»“åº“

| ä»“åº“ | æŠ€æœ¯æ ˆ | èŒè´£ | çŠ¶æ€ |
|---|---|---|---|
| `Presto-io/Presto` | Go + SvelteKit 2 + Svelte 5 + Wails v2 | ä¸»åº”ç”¨ï¼ˆæ¡Œé¢ + Webï¼‰ | å·²æœ‰ |
| `Presto-io/Presto-Homepage` | Astro 5ï¼ˆçº¯é™æ€ï¼‰+ Svelte island | å®˜ç½‘ + æ¨¡æ¿å•†åº—å±•ç¤ºé¡µ | å·²æœ‰ |
| `Presto-io/template-registry` | GitHub Actions + Python | æ¨¡æ¿æ³¨å†Œè¡¨ CI | å¾…åˆ›å»º |
| `Presto-io/plugin-registry` | åŒä¸Š | æ’ä»¶æ³¨å†Œè¡¨ CI | å°†æ¥ |
| `Presto-io/agent-skill-registry` | åŒä¸Š | Agent Skills æ³¨å†Œè¡¨ CI | å°†æ¥ |
| `Presto-io/registry-deploy` | Cloudflare Pages | ç»Ÿä¸€ CDN éƒ¨ç½² | å¾…åˆ›å»º |
| `Presto-io/presto-template-starter-go` | Go | æ¨¡æ¿å¼€å‘è„šæ‰‹æ¶ï¼ˆGoï¼‰ | å¾…åˆ›å»º |
| `Presto-io/presto-template-starter-rust` | Rust | æ¨¡æ¿å¼€å‘è„šæ‰‹æ¶ï¼ˆRustï¼‰ | å¾…åˆ›å»º |
| `Presto-io/presto-template-starter-typescript` | TypeScript + Bun | æ¨¡æ¿å¼€å‘è„šæ‰‹æ¶ï¼ˆTSï¼‰ | å¾…åˆ›å»º |
| `Presto-io/create-presto-template` | Node.js | äº¤äº’å¼ CLI è„šæ‰‹æ¶å·¥å…· | å¾…åˆ›å»º |

### æ ¸å¿ƒç›®æ ‡

1. **å®˜ç½‘ç”¨çœŸå® UI ç»„ä»¶æ›¿ä»£é™æ€æˆªå›¾**ï¼šPresto UI æ›´æ–°åå®˜ç½‘è‡ªåŠ¨åŒæ­¥
2. **å»ºè®¾çœŸå®çš„æ¨¡æ¿å•†åº—**ï¼šè½¯ä»¶å†… + å®˜ç½‘ï¼Œç±»ä¼¼ Obsidian æ’ä»¶å•†åº—
3. **å»ºè®¾æ‰©å±•ç”Ÿæ€**ï¼šæ¨¡æ¿ã€æ’ä»¶ã€Agent Skills ä¸‰ç±»æ‰©å±•å…±ç”¨åŸºç¡€è®¾æ–½
4. **AI è¾…åŠ©æ¨¡æ¿å¼€å‘**ï¼šå¼€å‘è€…ä¸Šä¼ å‚è€ƒæ–‡ä»¶ï¼ŒAI è‡ªåŠ¨ç”Ÿæˆæ¨¡æ¿ä»£ç 

---

## äºŒã€Showcase æ¨¡å—ï¼ˆPresto ä»“åº“å†…å»ºï¼‰

### 2.1 æ¶æ„å†³ç­–

åœ¨ Presto å‰ç«¯ä»“åº“å†…æ–°å¢ `/showcase/` è·¯ç”±ï¼Œç”¨çœŸå® Svelte ç»„ä»¶æ¸²æŸ“"åŠäº¤äº’å¼"ç•Œé¢ã€‚å®˜ç½‘å’Œè½¯ä»¶å†…å•†åº—é€šè¿‡ iframe åµŒå…¥è¿™äº›è·¯ç”±ã€‚

**é€‰æ‹©æ­¤æ–¹æ¡ˆçš„åŸå› **ï¼š
- é›¶è·¨ä»“åŒæ­¥æˆæœ¬ï¼ˆç»„ä»¶ç›´æ¥å¤ç”¨ï¼Œæ”¹äº† UI è‡ªåŠ¨è·Ÿç€å˜ï¼‰
- iframe å¤©ç„¶æ ·å¼éš”ç¦»
- å®˜ç½‘ä¿æŒçº¯ Astro é™æ€ç«™ï¼Œä¸å¢åŠ æ„å»ºå¤æ‚åº¦
- è½¯ä»¶å†…å•†åº—ä¹Ÿèƒ½å¤ç”¨ï¼ˆæ¡Œé¢ç«¯å’Œç½‘é¡µç«¯éƒ½åœ¨æœ¬åœ° serve å‰ç«¯ï¼‰

### 2.2 äº¤äº’è§„åˆ™

**ç¦æ­¢çš„äº¤äº’**ï¼ˆæ‰€æœ‰ä¸šåŠ¡æŒ‰é’®çš„ç‚¹å‡»è¡Œä¸ºï¼‰ï¼š
- å¯¼å‡º PDFã€æ‰“å¼€æ–‡ä»¶ã€ä¿å­˜ã€æ–°å»ºç­‰åŠŸèƒ½æŒ‰é’®
- æ¨¡æ¿é€‰æ‹©å™¨ä¸‹æ‹‰
- è®¾ç½®é¡µé¢å¯¼èˆªç‚¹å‡»è·³è½¬
- é”®ç›˜è¾“å…¥ï¼ˆCodeMirror è®¾ä¸º readOnlyï¼‰
- å³é”®èœå•

**å…è®¸çš„äº¤äº’**ï¼š
- æ‰€æœ‰ CSS :hover æ•ˆæœ
- åˆ†å‰²çº¿æ‹–æ‹½ï¼ˆç¼–è¾‘å™¨ä¸é¢„è§ˆé¢æ¿ä¹‹é—´ï¼‰
- åŒå‘æ»šåŠ¨åŒæ­¥
- å³ä¸Šè§’ proximity-reveal æŒ‰é’®æ˜¾éšï¼ˆç‚¹å‡»æ— æ•ˆï¼‰
- æ‰¹é‡è½¬æ¢é¡µæ–‡ä»¶æ‹–æ‹½åˆ†ç»„ + å¤šé€‰ï¼ˆCmd+Click, Shift+Clickï¼‰
- æ¨¡æ¿ç®¡ç†é¡µå…³é”®è¯ chip ç­›é€‰
- è®¾ç½®é¡µé¢æ»šåŠ¨æµè§ˆ
- CodeMirror æ–‡æœ¬é€‰æ‹©ï¼ˆreadOnly ä¸‹ä»å¯é€‰æ‹©å¤åˆ¶ï¼‰

### 2.3 è·¯ç”±ç»“æ„

```
frontend/src/routes/showcase/
  +layout.svelte                â† PrestoShellï¼šå…¨å±€ç‚¹å‡»æ‹¦æˆªã€ä¸»é¢˜åŒæ­¥ã€å°ºå¯¸é€‚é…
  editor/+page.svelte           â† é€šç”¨ç¼–è¾‘å™¨é¢„è§ˆï¼ˆ?registry={name} åŠ¨æ€åŠ è½½ï¼‰
  editor-gongwen/+page.svelte   â† ç¼–è¾‘å™¨ - å…¬æ–‡æ¨¡æ¿ï¼ˆé™æ€é¢„è®¾ï¼‰
  editor-jiaoan/+page.svelte    â† ç¼–è¾‘å™¨ - æ•™æ¡ˆæ¨¡æ¿ï¼ˆé™æ€é¢„è®¾ï¼‰
  batch/+page.svelte            â† æ‰¹é‡è½¬æ¢
  templates/+page.svelte        â† æ¨¡æ¿ç®¡ç†
  drop/+page.svelte             â† æ‹–å…¥æ–‡ä»¶åŠ¨ç”»
  hero/+page.svelte             â† Hero æ‰“å­—åŠ¨ç”»
```

### 2.4 é€šç”¨ç¼–è¾‘å™¨é¢„è§ˆï¼ˆ/showcase/editorï¼‰

**è¿™æ˜¯å•†åº—å®æ—¶é¢„è§ˆçš„æ ¸å¿ƒ**ã€‚æ ¹æ® URL å‚æ•°åŠ¨æ€åŠ è½½æ¨¡æ¿æ•°æ®ï¼š

```
/showcase/editor?registry=gongwen
```

æ•°æ®åŠ è½½ç­–ç•¥ï¼š
1. å†…ç½®æ¨¡æ¿ï¼ˆgongwenã€jiaoan-shicaoï¼‰ï¼šä½¿ç”¨æœ¬åœ°é¢„è®¾æ•°æ®ï¼Œé›¶ç½‘ç»œè¯·æ±‚
2. å…¶ä»–æ¨¡æ¿ï¼šä» registry CDN è·å– `example.md` + `preview-*.svg`

é¢„è§ˆåŠŸèƒ½ï¼š
- å·¦ä¾§ CodeMirror æ˜¾ç¤º example.mdï¼ˆreadOnlyï¼‰
- å³ä¾§ä¸€æ¬¡æ€§æ˜¾ç¤ºæ‰€æœ‰ SVG é¢„è§ˆé¡µ
- å·¦å³åŒæ­¥æ»šåŠ¨
- åˆ†å‰²æ å¯æ‹–æ‹½è°ƒèŠ‚
- æ‰€æœ‰ä¸šåŠ¡æŒ‰é’®ä¸å¯ç‚¹å‡»

### 2.5 PrestoShellï¼ˆshowcase/+layout.svelteï¼‰

æ‰€æœ‰ showcase é¡µé¢çš„å…¬å…± layoutï¼ŒèŒè´£ï¼š

1. **äº‹ä»¶æ‹¦æˆª**ï¼šcapture é˜¶æ®µæ‹¦æˆª click/mousedown/keydown/contextmenuï¼Œé€šè¿‡ç™½åå•æ”¾è¡Œå…è®¸çš„äº¤äº’
2. **å…‰æ ‡æ ·å¼**ï¼šå…¨å±€ `cursor: default`ï¼Œå¯äº¤äº’åŒºåŸŸè®¾å¯¹åº”å…‰æ ‡
3. **ä¸»é¢˜åŒæ­¥**ï¼šç»§æ‰¿ `prefers-color-scheme`ï¼Œè‡ªåŠ¨è·Ÿéšç³»ç»Ÿæ·±æµ…è‰²
4. **è§†å£é€‚é…**ï¼šå›ºå®šå°ºå¯¸æ¸²æŸ“ï¼ˆ1200Ã—800ï¼‰ï¼ŒCSS `transform: scale()` é€‚é… iframe
5. **éšè—å…¨å±€ UI**ï¼šshowcase æ¨¡å¼ä¸‹éšè— toastã€confirm dialog ç­‰

### 2.6 å„é¡µé¢è¯¦ç»†éœ€æ±‚

#### editor-gongwen / editor-jiaoan

- å¤ç”¨ `+page.svelte` çš„ split pane å¸ƒå±€
- å·¦ä¾§ CodeMirrorï¼šåŠ è½½å¯¹åº”æ¨¡æ¿çš„ example.mdï¼Œè®¾ä¸º readOnly
- å³ä¾§ Previewï¼šåŠ è½½å¯¹åº”æ¨¡æ¿çš„é¢„ç¼–è¯‘ SVG
- åˆ†å‰²çº¿å¯æ‹–æ‹½ + åŒå‘æ»šåŠ¨åŒæ­¥
- å³ä¸Šè§’ proximity-reveal æŒ‰é’®æ­£å¸¸æ˜¾éšï¼ˆç‚¹å‡»æ— æ•ˆï¼‰
- å·¥å…·æ æ˜¾ç¤ºæ¨¡æ¿åç§°ï¼ˆé™æ€æ–‡æœ¬ï¼Œéä¸‹æ‹‰ï¼‰
- çŠ¶æ€ç‚¹è„‰å†²åŠ¨ç”»

#### batch

- å¤ç”¨ `batch/+page.svelte` å¸ƒå±€
- é¢„ç½® mock æ–‡ä»¶åˆ—è¡¨ï¼ˆ6 ä¸ªæ–‡ä»¶ï¼Œåˆ†å±ä¸åŒæ¨¡æ¿åˆ†ç»„ï¼Œéƒ¨åˆ†è‡ªåŠ¨æ£€æµ‹ï¼‰
- æ–‡ä»¶å¯åœ¨åˆ†ç»„é—´æ‹–æ‹½ + å¤šé€‰ + æ‹–æ‹½æ‰‹æŸ„ hover
- è½¬æ¢æŒ‰é’®å¯è§ä½†ç‚¹å‡»æ— æ•ˆ

#### templates

- å¤ç”¨ `settings/+page.svelte` æ¨¡æ¿ç®¡ç†é¢æ¿å¸ƒå±€
- é¢„ç½® mock æ¨¡æ¿åˆ—è¡¨ï¼š2 ä¸ªçœŸå® + 5 ä¸ª mock
- å…³é”®è¯ chip ç­›é€‰æ­£å¸¸å·¥ä½œ
- æ¨¡æ¿å¡ç‰‡ hover æ•ˆæœæ­£å¸¸
- æ“ä½œæŒ‰é’®å¯è§ä½†ç‚¹å‡»æ— æ•ˆ

#### drop

- è¿›å…¥è§†å£æ—¶è‡ªåŠ¨æ’­æ”¾åŠ¨ç”»ï¼šæ–‡ä»¶å›¾æ ‡é£å…¥ â†’ drop overlay â†’ æ·¡å‡º â†’ å¾ªç¯

#### hero

- å·¦ä¾§ CodeMirror è‡ªåŠ¨é€å­—è¾“å…¥å…¬æ–‡ markdown
- å³ä¾§ SVG å¸§ä¸æ‰“å­—è¿›åº¦åŒæ­¥è§¦å‘
- è¯¦ç»†æ—¶åºè§åŸæ¶æ„æ–‡æ¡£

### 2.7 Mock æ•°æ®

é›†ä¸­ç®¡ç†åœ¨ `frontend/src/lib/showcase/` ç›®å½•ã€‚

### 2.8 æ„å»ºé…ç½®

- Showcase è·¯ç”±é€šè¿‡ `adapter-static` æ„å»ºä¸ºç‹¬ç«‹ HTML
- ç¡®ä¿ `/showcase/*` è·¯å¾„å¯ç›´æ¥ URL è®¿é—®

---

## ä¸‰ã€æ¨¡æ¿ç³»ç»Ÿæ¶æ„

è¯¦è§ `extension-spec.md` ç¬¬äºŒï½äº”èŠ‚ï¼ˆäºŒè¿›åˆ¶åè®®ã€manifest.json è§„èŒƒã€å¹³å°çŸ©é˜µã€Release å‘½åï¼‰ã€‚

### 3.1 å…³é”®è¡¥å……

- æ¨¡æ¿**ä¸é™è¯­è¨€**ï¼šGoã€Rustã€TypeScript (Bun)ã€Python ç­‰å‡å¯ï¼Œåªè¦èƒ½ç¼–è¯‘ä¸ºå¤šå¹³å°äºŒè¿›åˆ¶
- æ¯ä¸ª Release è¦†ç›– **3Ã—2 = 6 ä¸ªå¹³å°**ï¼ˆdarwin/linux/windows Ã— arm64/amd64ï¼‰
- å¼€å‘è€…åªéœ€å‘å¸ƒç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶ï¼Œmanifest å’Œ example åµŒå…¥åœ¨äºŒè¿›åˆ¶å†…éƒ¨
- å®‰è£…æ—¶ Presto è¿è¡Œ `./binary --manifest` æå– manifest.json

### 3.2 å®‰å…¨ä¸ä¿¡ä»»

è§ `extension-spec.md` ç¬¬å…­èŠ‚ã€‚

### 3.3 å­—ä½“å¤„ç†

- `requiredFonts` ä¸­ `url` ä¸ºå­—ä½“ä¿¡æ¯é¡µï¼Œ`downloadUrl` ä¸ºç›´é“¾ï¼ˆå¼€æºå­—ä½“æ‰æœ‰ï¼‰
- å¼€æºå­—ä½“å¯è‡ªåŠ¨ä¸‹è½½ï¼Œå•†ä¸šå­—ä½“å¼•å¯¼ç”¨æˆ·å»å®˜ç½‘
- æµè§ˆå™¨ç«¯å­—ä½“æ£€æµ‹ï¼šLocal Font Access APIï¼ˆChrome/Edgeï¼‰ï¼Œç”¨æˆ·æ‰‹åŠ¨è§¦å‘

---

## å››ã€é™æ€æ³¨å†Œè¡¨ä¸ CDN

### 4.1 æ¶æ„

ä¸‰ä¸ªç‹¬ç«‹çš„ registry ä»“åº“ï¼ˆæ¨¡æ¿ã€æ’ä»¶ã€Agent Skillsï¼‰ï¼Œç»Ÿä¸€æ¨é€åˆ° `registry-deploy` ä»“åº“ï¼Œé€šè¿‡ Cloudflare Pages éƒ¨ç½²åˆ° `presto.c-1o.top`ã€‚

```
template-registry CI â”€â”€pushâ”€â”€â†’ registry-deploy/templates/
plugin-registry CI   â”€â”€pushâ”€â”€â†’ registry-deploy/plugins/      ï¼ˆå°†æ¥ï¼‰
skill-registry CI    â”€â”€pushâ”€â”€â†’ registry-deploy/agent-skills/  ï¼ˆå°†æ¥ï¼‰
                                       â†“
                            Cloudflare Pages è‡ªåŠ¨éƒ¨ç½²
                                       â†“
                            presto.c-1o.top
```

### 4.2 Registry ä»“åº“ç»“æ„

```
template-registry/
  templates/
    {name}/
      manifest.json          â† ./binary --manifest çš„è¾“å‡º
      README.md              â† ä»æ¨¡æ¿ä»“åº“é¦–é¡µè·å–
      example.md             â† ./binary --example çš„è¾“å‡º
      preview-1.svg          â† typst compile ç”Ÿæˆ
      preview-2.svg
  scripts/
    build_registry.py
  Dockerfile                 â† æ²™ç®±é•œåƒï¼ˆå« Typst CLI + åŸºç¡€å­—ä½“ï¼‰
  .github/workflows/
    update-registry.yml
```

### 4.3 SVG ç”Ÿæˆç®¡çº¿

```
ä¸‹è½½ Release çš„æ¨¡æ¿äºŒè¿›åˆ¶
  â†’ ./binary --example â†’ example.md
  â†’ cat example.md | ./binary â†’ output.typ
  â†’ typst compile --font-path ./fonts/ output.typ â†’ preview-{n}.svg
```

### 4.4 å®‰å…¨ï¼šè¿è¡Œç¤¾åŒºäºŒè¿›åˆ¶

ä¸¤ä¸ª GitHub Actions job éš”ç¦»ï¼š

- **Job 1**ï¼ˆä½æƒé™ï¼Œä¸ä¼  secretsï¼‰ï¼šè¿è¡Œæ¨¡æ¿äºŒè¿›åˆ¶ï¼Œç”Ÿæˆ Typst æºç å’Œ example.mdï¼Œé€šè¿‡ artifacts ä¼ é€’
- **Job 2**ï¼ˆé«˜æƒé™ï¼‰ï¼šè¿è¡Œ Typst CLIï¼ˆå¯ä¿¡ï¼‰ï¼Œç¼–è¯‘ SVGï¼Œæ¨é€åˆ° registry-deploy

### 4.5 å¢é‡æ›´æ–°

æ¯ 6 å°æ—¶æˆ–æ‰‹åŠ¨è§¦å‘ã€‚å¢é‡æ£€æµ‹ï¼šå¯¹æ¯”æœ€æ–° Release tag ä¸ registry è®°å½•çš„ç‰ˆæœ¬ã€‚é€šè¿‡ `topic:presto-template` å‘ç°æ–°ä»“åº“ã€‚

### 4.6 å…±äº« CI

ç»„ç»‡çº§å…±äº« workflow ä»“åº“ `Presto-io/.github`ï¼š

```yaml
# å„ registry å¼•ç”¨
uses: Presto-io/.github/.github/workflows/registry-build.yml@main
with:
  type: template
  topic: presto-template
  deploy-path: templates/
```

### 4.7 Hero åˆ†å¸§ SVG

æˆªå– example.md ä¸åŒé•¿åº¦ç‰ˆæœ¬ï¼Œåˆ†åˆ«ç¼–è¯‘ä¸º SVGï¼Œå­˜ä¸º `hero-frame-0.svg` ~ `hero-frame-3.svg`ã€‚

---

## äº”ã€è½¯ä»¶å†…å•†åº—ï¼ˆPresto ä»“åº“ï¼‰

### 5.1 è®¾è®¡åŸåˆ™

- æ‰€æœ‰é¡µé¢å·¦ä¾§å¯¼èˆª/åˆ—è¡¨å®½åº¦ç»Ÿä¸€ **180px**
- æ¨¡æ¿å•†åº—ã€æ’ä»¶å•†åº—ã€Agent Skills å•†åº—å…±ç”¨ `StoreView.svelte` é€šç”¨ç»„ä»¶
- æ•°æ®æ¥è‡ª registry CDNï¼ˆ`presto.c-1o.top`ï¼‰ï¼Œå‰ç«¯ç›´æ¥ fetchï¼Œä¸ç»è¿‡åç«¯
- å®‰è£…æ“ä½œé€šè¿‡åç«¯ APIï¼ˆ`/api/templates/{name}/install`ï¼‰

### 5.2 è·¯ç”±

```
/store            â†’ æ¨¡æ¿å•†åº—
/plugins          â†’ æ’ä»¶å•†åº—ï¼ˆå°†æ¥ï¼‰
/agent-skills     â†’ Agent Skills å•†åº—ï¼ˆå°†æ¥ï¼‰
```

### 5.3 å…¥å£

è®¾ç½®é¡µå·¦ä¾§å¯¼èˆªï¼š
- "æ¨¡æ¿ç®¡ç†"ï¼ˆä¿ç•™ï¼Œç®¡ç†å·²å®‰è£…æ¨¡æ¿ï¼‰
- "æ¨¡æ¿å•†åº—"ï¼ˆåŸ"æ¨¡æ¿æœç´¢"ï¼Œç‚¹å‡» `goto('/store')`ï¼‰

### 5.4 å•†åº—é¡µé¢ä¸¤ç§è§†å›¾

**å¡ç‰‡ç½‘æ ¼è§†å›¾**ï¼ˆåˆå§‹ï¼Œæ— é€‰ä¸­ï¼‰ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† è¿”å›è®¾ç½®    ğŸ” æœç´¢...        â”‚
â”‚ [å…¨éƒ¨] [æ”¿åŠ¡] [æ•™è‚²] [å•†åŠ¡] ...  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ å…¬æ–‡ â”‚ â”‚ æ•™æ¡ˆ â”‚ â”‚ ä¼šè®® â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ è®ºæ–‡ â”‚ â”‚ ç®€å† â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Master-Detail è§†å›¾**ï¼ˆé€‰ä¸­æŸä¸ªæ¨¡æ¿åï¼‰ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† è¿”å›    ğŸ” æœç´¢...           â”‚
â”‚ [å…¨éƒ¨] [æ”¿åŠ¡] [æ•™è‚²] ...        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å…¬æ–‡ âœ¦â”‚  å…¬æ–‡æ¨¡æ¿       ğŸ”µ å®˜æ–¹ â”‚
â”‚  æ•™æ¡ˆ  â”‚  æè¿°...               â”‚
â”‚  ä¼šè®®  â”‚  [æ”¿åŠ¡] [å…¬æ–‡] [å›½æ ‡]   â”‚
â”‚  è®ºæ–‡  â”‚  v1.0.0 Â· MIT Â· mrered â”‚
â”‚  ç®€å†  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚        â”‚  â”‚ Live Preview    â”‚  â”‚
â”‚ 180px  â”‚  â”‚ iframe          â”‚  â”‚
â”‚        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚        â”‚  README / Schema ...  â”‚
â”‚        â”‚  [å®‰è£…]               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- å·¦ä¾§ 180px ç´§å‡‘åˆ—è¡¨
- å³ä¾§ flex: 1ï¼ˆæ¡Œé¢ç«¯ max-width é™åˆ¶ï¼Œç½‘é¡µç«¯è‡ªé€‚åº”ï¼‰
- å®æ—¶é¢„è§ˆï¼šiframe åµŒå…¥ `/showcase/editor?registry={name}`

### 5.5 é€šç”¨ç»„ä»¶

```svelte
<StoreView
  type="template"
  registryUrl="https://presto.c-1o.top/templates/registry.json"
  installEndpoint="/api/templates"
/>
```

### 5.6 å®‰è£…æµç¨‹ä¿®å¤

å½“å‰ GitHub Release å®‰è£…æµç¨‹éœ€ä¿®å¤ï¼š
1. ä¸‹è½½äºŒè¿›åˆ¶åè¿è¡Œ `--manifest` æå– manifest.json å†™å…¥ç£ç›˜
2. å°†äºŒè¿›åˆ¶é‡å‘½åä¸º `presto-template-{name}`
3. å‚è€ƒ ZIP å¯¼å…¥æµç¨‹ï¼ˆ`import.go`ï¼‰çš„å®Œæ•´å®ç°

---

## å…­ã€å®˜ç½‘æ¨¡æ¿å•†åº—ï¼ˆHomepage ä»“åº“ï¼‰

### 6.1 ä½ç½®ä¸æŠ€æœ¯

`/templates` è·¯ç”±ï¼ŒSvelte island ç»„ä»¶ã€‚æ•°æ®æ¥è‡ª `presto.c-1o.top`ã€‚

### 6.2 UI è®¾è®¡

Obsidian å¼ master-detail å¸ƒå±€ï¼Œå·¦ä¾§ 320px å¡ç‰‡åˆ—è¡¨ + å³ä¾§è¯¦æƒ…ã€‚

### 6.3 è¯¦æƒ…é¡µå†…å®¹

- æ¨¡æ¿åç§°ã€ä½œè€…ã€ç‰ˆæœ¬ã€åˆ†ç±» chipsã€ä¿¡ä»»æ ‡è¯†
- Live Previewï¼šiframe åµŒå…¥ Presto çš„ `/showcase/editor?registry={name}`
- README æ¸²æŸ“ã€frontmatterSchema å±•ç¤ºã€æ‰€éœ€å­—ä½“åˆ—è¡¨
- ä»“åº“é“¾æ¥ã€å…¼å®¹ç‰ˆæœ¬

### 6.4 æ•°æ®è·å–

å‰ç«¯è¿è¡Œæ—¶ fetch `registry.json`ï¼ˆä» `presto.c-1o.top`ï¼‰ã€‚

---

## ä¸ƒã€é¦–é¡µå¯¼èˆª

```
[Features] [Showcase] [Templates] [Plugins (coming soon)] [Agent Skills (coming soon)] [Download]
```

---

## å…«ã€æ¨¡æ¿å¼€å‘è€…ç”Ÿæ€

### 8.1 å¼€å‘è€…å·¥ä½œæµ

```
1. GitHub "Use this template" â†’ ä» starter ä»“åº“åˆ›å»º
2. Clone åˆ°æœ¬åœ°
3. å‚è€ƒæ–‡ä»¶æ”¾å…¥ reference/ ç›®å½•
4. ç”¨ AI ç¼–ç¨‹å·¥å…·å¼€å‘ï¼ˆæˆ–æ‰‹åŠ¨å¼€å‘ï¼‰
5. make preview â†’ åœ¨ Presto ä¸­é¢„è§ˆ
6. git tag â†’ CI è‡ªåŠ¨æ„å»º 6 å¹³å° + Release
7. Registry CI è‡ªåŠ¨æ”¶å½• â†’ å•†åº—å¯è§
```

### 8.2 Starter ä»“åº“

GitHub Template Repositoryï¼Œå¼€å‘è€…ç‚¹å‡» "Use this template" åˆ›å»ºè‡ªå·±çš„ä»“åº“ã€‚

æ¯ç§è¯­è¨€ä¸€ä¸ª starterï¼š
- `presto-template-starter-go`
- `presto-template-starter-rust`
- `presto-template-starter-typescript`

ç»“æ„ï¼ˆä»¥ Go ä¸ºä¾‹ï¼‰ï¼š
```
presto-template-starter-go/
  reference/                     â† å¼€å‘è€…æ”¾å‚è€ƒæ–‡ä»¶
    README.md                    â† è¯´æ˜æ”¯æŒçš„æ ¼å¼
  main.go                        â† éª¨æ¶ä»£ç 
  manifest.json                  â† éœ€è¦å¡«å†™
  example.md                     â† éœ€è¦æ›¿æ¢
  go.mod
  Makefile                       â† build / preview / test
  .github/workflows/
    release.yml                  â† 6 å¹³å°æ„å»º + Release
  CONVENTIONS.md                 â† AI å¼€å‘æŒ‡å¼•ï¼ˆsingle source of truthï¼‰
  CLAUDE.md                      â† Claude Code é…ç½®
  AGENTS.md                      â† OpenAI Codex é…ç½®
  .cursor/rules                  â† Cursor é…ç½®
  README.md
  LICENSE
```

### 8.3 AI è¾…åŠ©å¼€å‘

CONVENTIONS.md æ˜¯æ ¸å¿ƒï¼Œæ•™ AI å¦‚ä½•ï¼š

1. **åˆ†æå‚è€ƒæ–‡ä»¶**ï¼šæ”¯æŒ PDFã€DOCXã€TXTã€MDã€TYPã€XLSXã€PPTã€HTMLã€å›¾ç‰‡ç­‰
2. **ä¸å¼€å‘è€…äº¤äº’ç¡®è®¤**ï¼š
   - æ’ç‰ˆç‰¹å¾æ¸…å•ï¼ˆå“ªäº›æ­£ç¡®ã€å“ªäº›è°ƒæ•´ï¼‰
   - å¯é…ç½® vs å›ºå®šï¼ˆå“ªäº›æš´éœ²ä¸º frontmatterï¼‰
   - Markdown è¯­æ³•æ˜ å°„ï¼ˆ# ## åœ¨æ­¤æ¨¡æ¿ä¸­çš„å«ä¹‰ï¼‰
   - æœªæ˜ç¡®çš„ç»†èŠ‚å¤„ç†ç­–ç•¥
3. **ç”Ÿæˆä»£ç **ï¼šè½¬æ¢é€»è¾‘ + Typst æ¨¡æ¿ + manifest + example
4. **æµ‹è¯•é¢„è§ˆ**ï¼š`make preview` åœ¨ Presto ä¸­éªŒè¯

### 8.4 å¼€å‘è€…é¢„è§ˆ

ä½¿ç”¨ Presto æœ¬èº«ï¼š

```makefile
preview:
	$(BUILD_CMD)                                          # ç¼–è¯‘å½“å‰å¹³å°äºŒè¿›åˆ¶
	mkdir -p ~/.presto/templates/$(NAME)
	cp $(BINARY) ~/.presto/templates/$(NAME)/presto-template-$(NAME)
	./$(BINARY) --manifest > ~/.presto/templates/$(NAME)/manifest.json
	@echo "æ¨¡æ¿å·²å®‰è£…ï¼Œè¯·åœ¨ Presto ä¸­åˆ·æ–°æŸ¥çœ‹"
```

### 8.5 CLI å·¥å…·ï¼ˆå¯é€‰ï¼‰

`npx create-presto-template` æä¾›äº¤äº’å¼æœ¬åœ°åˆå§‹åŒ–ï¼Œé¢å‘å–œæ¬¢æ‰‹åŠ¨å¼€å‘çš„äººï¼š

```
$ npx create-presto-template
? æ¨¡æ¿åç§°: my-report
? æ˜¾ç¤ºåç§°: æŠ¥å‘Šæ¨¡æ¿
? è¯­è¨€: Go / Rust / TypeScript
? åˆ†ç±»: business
? è®¸å¯è¯: MIT
â†’ ä» starter ä»“åº“å…‹éš†å¹¶æ›¿æ¢å˜é‡
â†’ é¡¹ç›®å·²åˆ›å»ºåœ¨ ./my-report
```

---

## ä¹ã€è·¨ä»“åº“åä½œ

### 9.1 æ–‡æ¡£å±‚çº§

```
extension-spec.md          â† æŠ€æœ¯è§„èŒƒï¼ˆç±»å‹å®šä¹‰ã€åè®®ã€å‘½åè§„èŒƒï¼‰
Presto-architecture.md     â† æ¶æ„è®¾è®¡ï¼ˆæœ¬æ–‡æ¡£ï¼Œç³»ç»Ÿå…¨æ™¯ã€å„æ¨¡å—è®¾è®¡ï¼‰
å„ä»“åº“ CLAUDE.md           â† å®ç°æŒ‡å¼•ï¼ˆè¯¥ä»“åº“ AI åŠ©æ‰‹çš„å…·ä½“ä»»åŠ¡ï¼‰
starter CONVENTIONS.md     â† æ¨¡æ¿å¼€å‘æŒ‡å¼•ï¼ˆæ•™ AI å¦‚ä½•å¼€å‘æ¨¡æ¿ï¼‰
```

### 9.2 åä½œæ¨¡å¼

```
ç”¨æˆ· â”€â”€â†’ Presto AIï¼ˆé™„å¸¦ extension-spec.md + æœ¬æ–‡æ¡£ï¼‰â”€â”€â†’ æ”¹ Presto ä»“åº“
ç”¨æˆ· â”€â”€â†’ Homepage AIï¼ˆé™„å¸¦ extension-spec.md + æœ¬æ–‡æ¡£ï¼‰â”€â”€â†’ æ”¹ Homepage ä»“åº“
ç”¨æˆ· â”€â”€â†’ Registry AIï¼ˆé™„å¸¦ extension-spec.md + æœ¬æ–‡æ¡£ï¼‰â”€â”€â†’ å»º Registry ä»“åº“
ç”¨æˆ· â”€â”€â†’ Starter AIï¼ˆé™„å¸¦ CONVENTIONS.mdï¼‰â”€â”€â†’ å»º Starter ä»“åº“
æ¨¡æ¿å¼€å‘è€… â”€â”€â†’ Starter AIï¼ˆé™„å¸¦ CONVENTIONS.mdï¼‰â”€â”€â†’ å¼€å‘å…·ä½“æ¨¡æ¿
```

### 9.3 ä¸€è‡´æ€§ä¿è¯

- æ‰€æœ‰ TypeScript / Go ç±»å‹å®šä¹‰å¿…é¡»ä¸ `extension-spec.md` çš„ schema å®Œå…¨ä¸€è‡´
- registry.json URL ç»Ÿä¸€ä¸º `https://presto.c-1o.top/{type}/registry.json`
- è·¨ä»“åº“å˜æ›´æ—¶å…ˆæ›´æ–° extension-spec.mdï¼Œå†å„ä»“åº“è·Ÿè¿›

---

## åã€å¾…åç»­è®¨è®ºçš„è¯é¢˜

1. æ¨¡æ¿ç­¾åéªŒè¯è¯¦ç»†è®¾è®¡ï¼ˆcosign / sigstoreï¼‰
2. å­—ä½“ç¼ºå¤±æ£€æµ‹çš„å®¢æˆ·ç«¯å®ç°
3. Agent Skills å…·ä½“æ¶æ„
4. æ’ä»¶ç³»ç»ŸäºŒè¿›åˆ¶åè®®ï¼ˆä¸æ¨¡æ¿åè®®çš„å·®å¼‚ï¼‰
5. æ’ä»¶æƒé™å£°æ˜å’Œå®‰å…¨æ²™ç®±
